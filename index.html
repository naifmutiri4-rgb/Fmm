<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FMM Dashboard Animated</title>
<style>
:root{
    --fmm-purple:#7c4dff;
    --bg:#050505;
    --card:#111114;
    --glass:rgba(20,20,25,0.95);
    --safe-top:env(safe-area-inset-top);
}
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent;}
body{margin:0;font-family:-apple-system,sans-serif;background:var(--bg);color:#fff;padding-top:var(--safe-top);display:flex;height:100vh;overflow:hidden;}
.sidebar{width:200px;background:#111;border-right:1px solid #222;display:flex;flex-direction:column;}
.sidebar .logo{font-size:22px;font-weight:900;color:var(--fmm-purple);text-align:center;padding:20px 0;border-bottom:1px solid #222;}
.sidebar a{padding:12px 20px;color:#888;text-decoration:none;font-size:13px;border-bottom:1px solid #111;transition:0.2s;}
.sidebar a:hover{background:rgba(124,77,255,0.1);color:#fff;}
.main{flex:1;overflow-y:auto;padding:10px;}
.banner{background:var(--card);padding:15px;border-radius:15px;margin-bottom:15px;text-align:center;font-weight:bold;font-size:14px;}
.stats-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin-bottom:15px;}
.s-card{background:var(--card);padding:12px;border-radius:12px;text-align:center;border:1px solid #1f1f23;}
.s-card span{display:block;font-size:8px;color:#555;margin-bottom:4px;}
.s-card b{font-size:11px;color:var(--fmm-purple);}
.control-bar{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;}
.batch-btn{background:#00e676;color:#000;border:none;padding:6px 12px;border-radius:10px;font-weight:bold;cursor:pointer;display:none;}
.section-label{padding:8px 10px;background:#08080a;font-size:12px;font-weight:bold;color:#444;margin-top:10px;border-radius:10px;}
.list{padding:5px 10px;}
.order{background:var(--card);margin-bottom:10px;padding:10px;border-radius:12px;border:1px solid #1f1f23;position:relative;cursor:pointer;transition:0.3s;}
.order.selected{border-color:var(--fmm-purple);background:rgba(124,77,255,0.05);}
.order-check{position:absolute;left:10px;top:10px;transform:scale(1.2);}
.order-info b{display:block;font-size:13px;margin-bottom:3px;}
.order-info small{color:#555;font-size:9px;}
.glass{position:fixed;inset:0;background:rgba(0,0,0,0.85);backdrop-filter:blur(20px);z-index:1000;display:none;align-items:flex-start;justify-content:center;padding-top:50px;transition:all 0.3s;}
.glass.active{display:flex;opacity:1;}
.sheet{background:var(--glass);width:90%;border-radius:25px;padding:20px;border-top:1px solid var(--fmm-purple);max-height:80vh;overflow-y:auto;transition:all 0.3s;}
.btn-full{width:100%;padding:12px;border-radius:12px;border:none;font-weight:bold;font-size:14px;margin-top:10px;cursor:pointer;}
.btn-primary{background:var(--fmm-purple);color:#fff;}
.auto-run{background:#00e676;color:#000;font-size:12px;padding:6px 12px;border-radius:10px;margin-bottom:10px;cursor:pointer;}
.order-service{background:#1a1a1a;margin:5px 0;padding:8px;border-radius:10px;border:1px solid #333;font-size:12px;cursor:pointer;transition:0.2s;}
.order-service.selected{border-color:var(--fmm-purple);background:rgba(124,77,255,0.1);}
footer{text-align:center;font-size:10px;color:#555;padding:15px;border-top:1px solid #1a1a1a;margin-top:10px;}
</style>
</head>
<body>
<div class="sidebar">
<div class="logo">FMM</div>
<a href="#">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
<a href="#">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø±Ø¨Ø·</a>
<a href="#">ØªØ­Ù„ÙŠÙ„Ø§Øª Ù…Ø§Ù„ÙŠØ©</a>
<a href="#">Ø·Ù„Ø¨Ø§Øª Ø³Ù„Ø©</a>
<a href="#">ÙÙ„ØªØ±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª</a>
</div>
<div class="main">
<div class="banner">ğŸ‘‹ Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</div>
<div class="stats-grid">
<div class="s-card"><span>Ø§Ù„Ø±ØµÙŠØ¯</span><b id="bal">$2,500.00</b></div>
<div class="s-card"><span>Ø§Ù†ØªØ¸Ø§Ø±</span><b id="c-p">3</b></div>
<div class="s-card"><span>ØªÙ†ÙÙŠØ°</span><b id="c-r">0</b></div>
<div class="s-card"><span>Ù…ÙƒØªÙ…Ù„</span><b id="c-d">0</b></div>
</div>
<div class="control-bar">
<label style="font-size:12px; color:#888;"><input type="checkbox" id="selectAll" onclick="toggleAll()"> ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ„</label>
<button id="batchBtn" class="batch-btn" onclick="openMassModal()">ØªÙ†ÙÙŠØ° Ø§Ù„Ù…Ø®ØªØ§Ø± ( <span id="selCount">0</span> ) âš¡</button>
</div>
<div class="section-label">ğŸ“¦ Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</div>
<div id="pending-list" class="list"></div>
<div class="section-label">â³ Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°</div>
<div id="processing-list" class="list"></div>
<div class="section-label">âœ… Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ù…ÙƒØªÙ…Ù„</div>
<div id="completed-list" class="list"></div>
<div class="glass" id="modal">
<div class="sheet" id="modalContent">
<button class="auto-run" onclick="toggleAutoRun()">Auto Run: Ø£Ø³Ø±Ø¹ ÙˆØ£Ø±Ø®Øµ</button>
</div>
</div>
<footer>Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ø¯Ù‰ Ù†Ø§ÙŠÙ Ø§Ù„Ù…Ø·ÙŠØ±ÙŠ 2025</footer>
<script>
let data={balance:2500.0,pending:[
{id:101,user:"Ø£Ø­Ù…Ø¯ Ø¹Ù„ÙŠ",cost:1.2,services:[
{sid:1,name:"#6838 | Ù…ØªØ§Ø¨Ø¹ÙŠÙ† ØªÙŠÙƒ ØªÙˆÙƒ | Ù…ØªÙˆØ³Ø· Ø§Ù„ÙˆÙ‚Øª:2Ø³ 12Ø¯ | 4.5 Ø±ÙŠØ§Ù„"},
{sid:2,name:"#6839 | Ù…ØªØ§Ø¨Ø¹ÙŠÙ† ØªÙŠÙƒ ØªÙˆÙƒ | Ù…ØªÙˆØ³Ø· Ø§Ù„ÙˆÙ‚Øª:3Ø³ | 4.0 Ø±ÙŠØ§Ù„"}]},
{id:102,user:"Ø³Ø§Ø±Ø© Ù…Ø­Ù…Ø¯",cost:2.5,services:[
{sid:3,name:"#6840 | Ù…ØªØ§Ø¨Ø¹ÙŠÙ† ØªÙŠÙƒ ØªÙˆÙƒ | Ù…ØªÙˆØ³Ø· Ø§Ù„ÙˆÙ‚Øª:1Ø³ 30Ø¯ | 5.0 Ø±ÙŠØ§Ù„"},
{sid:4,name:"#6841 | Ù…ØªØ§Ø¨Ø¹ÙŠÙ† ØªÙŠÙƒ ØªÙˆÙƒ | Ù…ØªÙˆØ³Ø· Ø§Ù„ÙˆÙ‚Øª:2Ø³ | 4.8 Ø±ÙŠØ§Ù„"}]},
{id:103,user:"Ù…ØªØ¬Ø± Ø§Ù„Ø±ÙˆØ§Ø¯",cost:5.0,services:[
{sid:5,name:"#6842 | Ù…ØªØ§Ø¨Ø¹ÙŠÙ† ØªÙŠÙƒ ØªÙˆÙƒ | Ù…ØªÙˆØ³Ø· Ø§Ù„ÙˆÙ‚Øª:4Ø³ | 5.5 Ø±ÙŠØ§Ù„"},
{sid:6,name:"#6843 | Ù…ØªØ§Ø¨Ø¹ÙŠÙ† ØªÙŠÙƒ ØªÙˆÙƒ | Ù…ØªÙˆØ³Ø· Ø§Ù„ÙˆÙ‚Øª:2Ø³ 45Ø¯ | 5.2 Ø±ÙŠØ§Ù„"}]}],
processing:[],completed:[],selectedIds:[],autoRun:false};
function render(){const pList=document.getElementById('pending-list');pList.innerHTML=data.pending.map(o=>`
<div class="order ${data.selectedIds.includes(o.id)?'selected':''}" onclick="toggleSelect(${o.id})">
<input type="checkbox" class="order-check" ${data.selectedIds.includes(o.id)?'checked':''}>
<div class="order-info"><b>#${o.id} | ${o.user}</b><small>Ù…ØªØ§Ø¨Ø¹ÙŠÙ† ØªÙŠÙƒ ØªÙˆÙƒ â€¢ Ø§Ù„ØªÙƒÙ„ÙØ©: $${o.cost}</small></div>
</div>`).join('');
document.getElementById('processing-list').innerHTML=data.processing.map(o=>`<div class="order" style="border-right:3px solid #ffcf4b;"><b>#${o.id}</b> <small style="color:#ffcf4b;">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...</small></div>`).join('');
document.getElementById('completed-list').innerHTML=data.completed.map(o=>`<div class="order" style="opacity:0.5;border-right:3px solid #00e676;"><b>#${o.id}</b> <small style="color:#00e676;">Ø§ÙƒØªÙ…Ù„ Ø¨Ù†Ø¬Ø§Ø­ âœ…</small></div>`).join('');
document.getElementById('c-p').innerText=data.pending.length;
document.getElementById('c-r').innerText=data.processing.length;
document.getElementById('c-d').innerText=data.completed.length;
document.getElementById('bal').innerText=`$${data.balance.toFixed(2)}`;
const btn=document.getElementById('batchBtn');btn.style.display=data.selectedIds.length>0?'block':'none';
document.getElementById('selCount').innerText=data.selectedIds.length;}
function toggleSelect(id){if(data.selectedIds.includes(id)) data.selectedIds=data.selectedIds.filter(i=>i!==id); else data.selectedIds.push(id); render();}
function toggleAll(){if(data.selectedIds.length===data.pending.length)data.selectedIds=[];else data.selectedIds=data.pending.map(o=>o.id);render();}
function openMassModal(){
const modal=document.getElementById('modal');const modalBody=document.getElementById('modalContent');
modalBody.innerHTML=`<button class="auto-run" onclick="toggleAutoRun()">Auto Run: Ø£Ø³Ø±Ø¹ ÙˆØ£Ø±Ø®Øµ</button>`;
data.selectedIds.forEach(id=>{
const order=data.pending.find(o=>o.id===id);
const orderDiv=document.createElement('div');
orderDiv.style.marginTop='10px';
orderDiv.innerHTML=`<b>#${order.id} | ${order.user}</b>`;
order.services.forEach(s=>{
const servDiv=document.createElement('div');servDiv.className='order-service';servDiv.innerText=s.name;
servDiv.onclick=()=>{order.selectedService=s;Array.from(orderDiv.querySelectorAll('.order-service')).forEach(x=>x.classList.remove('selected'));servDiv.classList.add('selected');};
orderDiv.appendChild(servDiv);
});
modalBody.appendChild(orderDiv);
});
modalBody.innerHTML+=`<button class="btn-full btn-primary" onclick="startMassExecution()">ØªØ£ÙƒÙŠØ¯ ÙˆØ¥Ø±Ø³Ø§Ù„ âœ…</button>
<button class="btn-full" style="background:none;border:1px solid #333;" onclick="closeModal()">Ø¥Ù„ØºØ§Ø¡</button>`;
modal.classList.add('active');
if(data.autoRun){data.selectedIds.forEach(id=>{const order=data.pending.find(o=>o.id===id);let best=order.services.reduce((a,b)=>{const timeA=parseTime(a.name);const timeB=parseTime(b.name);return (timeA<timeB&&parseFloat(a.name.split(' | ').pop())<=parseFloat(b.name.split(' | ').pop()))?a:b;});order.selectedService=best;});setTimeout(startMassExecution,500);}
}
function parseTime(str){const match=str.match(/(\d+)Ø³\s*(\d+)?Ø¯?/);if(!match)return 999;const hours=parseInt(match[1]);const mins=match[2]?parseInt(match[2]):0;return hours*60+mins;}
function toggleAutoRun(){data.autoRun=!data.autoRun;render();}
function closeModal(){document.getElementById('modal').classList.remove('active');}
function startMassExecution(){
const idsToExec=[...data.selectedIds];data.selectedIds=[];
idsToExec.forEach(id=>{
const idx=data.pending.findIndex(o=>o.id===id);if(idx>-1){
const order=data.pending.splice(idx,1)[0];
data.balance-=(order.selectedService?parseFloat(order.selectedService.name.split(' | ').pop()):order.cost);
data.processing.push(order);
setTimeout(()=>{const pIdx=data.processing.findIndex(x=>x.id===id);if(pIdx>-1){const done=data.processing.splice(pIdx,1)[0];data.completed.unshift(done);render();}},5000);
}
});
render();closeModal();}
window.onload=render;
</script>
</body>
</html>

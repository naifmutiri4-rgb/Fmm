<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FMM Royal Hub | Ultimate Enterprise Edition</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root {
    --royal-purple: #7c4dff;
    --royal-dark: #5e35b1;
    --deep-black: #050508;
    --panel-bg: #0d0d12;
    --sidebar-w: 260px;
    --sidebar-c: 85px;
    --border: rgba(255,255,255,0.08);
    --success: #00e676;
    --error: #ff5252;
    --warning: #ffd600;
    --text-main: #ffffff;
    --text-muted: #8e8e93;
    --glass: rgba(255,255,255,0.03);
    --card-radius: 24px;
    --transition: all 0.3s cubic-bezier(0.4,0,0.2,1);
}

*{box-sizing:border-box; transition: var(--transition); scroll-behavior: smooth;}
body{margin:0;display:flex;height:100vh;overflow:hidden;font-family:'Segoe UI',system-ui,-apple-system,sans-serif;color:var(--text-main);background:var(--deep-black);}
::-webkit-scrollbar{width:5px;height:5px;}
::-webkit-scrollbar-track{background:var(--deep-black);}
::-webkit-scrollbar-thumb{background:var(--royal-purple);border-radius:10px;}

/* Sidebar */
.sidebar{width:var(--sidebar-w);background:#000;border-left:1px solid var(--border);display:flex;flex-direction:column;position:relative;z-index:1000;flex-shrink:0;}
.sidebar.collapsed{width:var(--sidebar-c);}
.sidebar-header{padding:30px 20px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--border);}
.logo-box{display:flex;align-items:center;gap:12px;overflow:hidden;}
.logo-icon{min-width:38px;height:38px;background:linear-gradient(135deg,var(--royal-purple),var(--royal-dark));border-radius:12px;display:flex;justify-content:center;align-items:center;font-weight:bold;font-size:20px;box-shadow:0 0 20px rgba(124,77,255,0.3);}
.logo-text{font-size:18px;font-weight:900;letter-spacing:1px;white-space:nowrap;}
.nav-container{flex:1;overflow-y:auto;padding:15px 12px;}
.nav-group-label{font-size:10px;color:var(--royal-purple);padding:25px 15px 10px;text-transform:uppercase;font-weight:800;letter-spacing:1.2px;opacity:0.5;}
.nav-item{padding:14px 16px;border-radius:16px;display:flex;align-items:center;gap:15px;color:var(--text-muted);cursor:pointer;margin-bottom:4px;font-size:14px;border:1px solid transparent;position:relative;}
.nav-item:hover{background:var(--glass);color:#fff;transform:translateX(-5px);}
.nav-item.active{background:linear-gradient(45deg,var(--royal-purple),var(--royal-dark));color:#fff;box-shadow:0 10px 25px rgba(124,77,255,0.25);}
.nav-item i{font-size:18px;width:22px;text-align:center;}
.badge{background:var(--error);color:white;font-size:10px;padding:2px 8px;border-radius:50px;margin-right:auto;font-weight:bold;}

/* Main Content */
.main-content{flex:1;display:flex;flex-direction:column;overflow:hidden;position:relative;}
.top-bar{padding:15px 40px;background:rgba(13,13,18,0.8);backdrop-filter:blur(15px);border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;z-index:900;}
.search-global{position:relative;width:350px;}
.search-global input{width:100%;background:var(--glass);border:1px solid var(--border);padding:10px 40px 10px 15px;border-radius:12px;color:#fff;outline:none;}
.search-global i{position:absolute;right:15px;top:12px;color:var(--text-muted);}
.user-profile{display:flex;align-items:center;gap:15px;cursor:pointer;}
.user-info{text-align:right;}
.user-name{font-weight:bold;font-size:14px;display:block;}
.user-status{font-size:11px;color:var(--success);display:flex;align-items:center;gap:5px;}
.user-status::before{content:'';width:6px;height:6px;background:var(--success);border-radius:50%;}

/* Sections */
.page-section{display:none;width:100%;height:100%;padding:30px 40px;overflow-y:auto;}
.page-section.active{display:block;animation:sectionFade 0.5s ease-out;}
@keyframes sectionFade{from{opacity:0;transform:translateY(15px);}to{opacity:1;transform:translateY(0);}}

.stat-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:25px;margin-bottom:35px;}
.stat-card{background:var(--panel-bg);border:1px solid var(--border);border-radius:var(--card-radius);padding:25px;position:relative;overflow:hidden;}
.stat-card::after{content:'';position:absolute;top:0;right:0;width:100px;height:100px;background:linear-gradient(225deg,rgba(124,77,255,0.05) 0%,transparent 70%);}
.stat-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px;}
.stat-icon-box{width:54px;height:54px;border-radius:18px;display:flex;align-items:center;justify-content:center;font-size:22px;}
.trend-label{font-size:12px;font-weight:bold;padding:4px 8px;border-radius:8px;}
.trend-up{background:rgba(0,230,118,0.1);color:var(--success);}

.content-card{background:var(--panel-bg);border:1px solid var(--border);border-radius:var(--card-radius);padding:25px;margin-bottom:30px;}
.card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:25px;}
table{width:100%;border-collapse:collapse;}
th{text-align:right;padding:15px 20px;color:var(--text-muted);font-size:12px;font-weight:600;border-bottom:1px solid var(--border);text-transform:uppercase;letter-spacing:1px;}
td{padding:18px 20px;border-bottom:1px solid rgba(255,255,255,0.03);font-size:14px;vertical-align:middle;}
tr:hover td{background:rgba(255,255,255,0.01);}
.status-badge{padding:6px 14px;border-radius:10px;font-size:11px;font-weight:800;display:inline-flex;align-items:center;gap:6px;}
.bg-success{background:rgba(0,230,118,0.1);color:var(--success);}
.bg-warning{background:rgba(255,214,0,0.1);color:var(--warning);}
.bg-error{background:rgba(255,82,82,0.1);color:var(--error);}

/* Toasts */
.toast-wrapper{position:fixed;top:30px;left:30px;z-index:10000;}
.toast-msg{background:#161622;color:#fff;padding:16px 24px;border-radius:16px;margin-bottom:12px;border-right:5px solid var(--royal-purple);box-shadow:0 20px 40px rgba(0,0,0,0.6);display:flex;align-items:center;gap:15px;animation:toastIn 0.4s cubic-bezier(0.175,0.885,0.32,1.275) forwards;}
@keyframes toastIn{from{opacity:0;transform:translateX(-100px);}to{opacity:1;transform:translateX(0);}}
.btn-royal{background:linear-gradient(45deg,var(--royal-purple),var(--royal-dark));color:#fff;border:none;padding:12px 24px;border-radius:14px;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:10px;}
.btn-royal:hover{transform:translateY(-3px);box-shadow:0 8px 20px rgba(124,77,255,0.4);}
</style>
</head>
<body>

<div class="toast-wrapper" id="toastBox"></div>

<aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
        <div class="logo-box">
            <div class="logo-icon">F</div>
            <span class="logo-text">ROYAL HUB</span>
        </div>
        <i class="fas fa-indent" id="sidebarToggle" style="cursor:pointer; color:var(--text-muted)" onclick="toggleSidebar()"></i>
    </div>

    <div class="nav-container">
        <div class="nav-group-label">القائمة الرئيسية</div>
        <div class="nav-item active" onclick="navigate('dashboard', this)"><i class="fas fa-th-large"></i> <span class="nav-text">لوحة التحكم</span></div>
        <div class="nav-item" onclick="navigate('products', this)"><i class="fas fa-box-open"></i> <span class="nav-text">المنتجات</span></div>
        <div class="nav-item" onclick="navigate('orders', this)"><i class="fas fa-shopping-cart"></i> <span class="nav-text">إدارة الطلبات</span></div>
        <div class="nav-item" onclick="navigate('provider', this)"><i class="fas fa-link"></i> <span class="nav-text">ربط المورد</span></div>
        <div class="nav-item" onclick="navigate('settings', this)"><i class="fas fa-sliders-h"></i> <span class="nav-text">الإعدادات</span></div>
    </div>

    <div style="padding: 20px; border-top: 1px solid var(--border);">
        <div class="nav-item" style="color:var(--error)" onclick="logout()"><i class="fas fa-power-off"></i> <span class="nav-text">تسجيل الخروج</span></div>
    </div>
</aside>

<main class="main-content">
    <header class="top-bar">
        <div class="search-global">
            <i class="fas fa-search"></i>
            <input type="text" id="globalSearch" placeholder="ابحث عن طلب، عميل، أو كود..." onkeyup="masterSearch()">
        </div>

        <div style="display:flex; align-items:center; gap:30px;">
            <div id="clock" style="font-family: monospace; color: var(--royal-purple); font-weight: bold; font-size: 18px; letter-spacing: 1px;">00:00:00</div>
            <div class="user-profile">
                <div class="user-info">
                    <span class="user-name">عبدالرحمن محمد</span>
                    <span class="user-status">مسؤول النظام</span>
                </div>
                <img src="https://ui-avatars.com/api/?name=FMM&background=7c4dff&color=fff&bold=true" style="width:42px; border-radius:14px; border:2px solid var(--border);">
            </div>
        </div>
    </header>

    <!-- صفحات اللوحة -->
    <section id="page-dashboard" class="page-section active">
        <div class="stat-grid">
            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-icon-box" style="background:rgba(124,77,255,0.1);color:var(--royal-purple)"><i class="fas fa-briefcase"></i></div>
                    <span class="trend-label trend-up">+14%</span>
                </div>
                <span style="color:var(--text-muted); font-size:13px;">إجمالي المبيعات</span>
                <h2 style="margin:10px 0; font-size:28px;">124,500.00 ر.س</h2>
            </div>
            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-icon-box" style="background:rgba(255,214,0,0.1);color:var(--warning)"><i class="fas fa-sync-alt fa-spin"></i></div>
                    <span class="trend-label" style="background:rgba(255,255,255,0.05)">نشط الآن</span>
                </div>
                <span style="color:var(--text-muted); font-size:13px;">طلبات قيد المعالجة</span>
                <h2 id="live-orders-count" style="margin:10px 0; font-size:28px;">24 طلب</h2>
            </div>
            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-icon-box" style="background:rgba(0,230,118,0.1);color:var(--success)"><i class="fas fa-user-check"></i></div>
                    <span class="trend-label trend-up">ممتاز</span>
                </div>
                <span style="color:var(--text-muted); font-size:13px;">تقييم الخدمة</span>
                <h2 style="margin:10px 0; font-size:28px;">4.9 / 5.0</h2>
            </div>
        </div>

        <div class="content-card">
            <div class="card-header">
                <h4 style="margin:0;"><i class="fas fa-list-ul" style="margin-left:10px; color:var(--royal-purple)"></i> أحدث العمليات المالية</h4>
                <button class="btn-royal" onclick="refreshTable()"><i class="fas fa-redo-alt"></i> تحديث البيانات</button>
            </div>
            <table id="mainOrdersTable">
                <thead>
                    <tr>
                        <th>رقم العملية</th>
                        <th>العميل</th>
                        <th>الخدمة المطلوبة</th>
                        <th>المبلغ</th>
                        <th>الحالة</th>
                        <th>الإجراء</th>
                    </tr>
                </thead>
                <tbody id="ordersBody">
                </tbody>
            </table>
        </div>
    </section>

    <section id="page-products" class="page-section">
        <h2>المنتجات والخدمات</h2>
        <div class="content-card">
            <p>هنا يمكنك إدارة منتجاتك وإضافة خدمات جديدة، تحديد السعر والوقت المتوقع.</p>
        </div>
    </section>

    <section id="page-orders" class="page-section">
        <h2>إدارة الطلبات</h2>
        <div class="content-card">
            <p>عرض الطلبات الجديدة، المكتملة، الملغاة، والمعلقة مع إمكانية البحث والتصفية.</p>
        </div>
    </section>

    <section id="page-provider" class="page-section">
        <h2>ربط المورد</h2>
        <div class="content-card">
            <p>إدارة الربط مع المزود الخاص بك، متابعة الرصيد والحالة التلقائية للطلبات.</p>
        </div>
    </section>

    <section id="page-settings" class="page-section">
        <h2>الإعدادات</h2>
        <div class="content-card">
            <p>تعديل إعدادات النظام، التحكم بالمستخدمين، وإعدادات الربط والتكامل.</p>
        </div>
    </section>

</main>

<script>
let ordersData = [
    { id:"OR-7712", name:"خالد العتيبي", service:"توثيق حساب تجاري", price:"4,500", status:"success" },
    { id:"OR-7715", name:"مؤسسة الرؤية", service:"حملة إعلانية سناب", price:"12,000", status:"warning" },
    { id:"OR-7718", name:"سارة المنصور", service:"زيادة متابعين حقيقي", price:"850", status:"success" },
    { id:"OR-7720", name:"فهد الأحمد", service:"برمجة بوت تلغرام", price:"3,200", status:"error" },
    { id:"OR-7722", name:"متجر الأناقة", service:"إدارة حساب تيك توك", price:"2,500", status:"warning" }
];

function initSystem(){
    setInterval(()=>{const now=new Date();document.getElementById('clock').innerText=now.toLocaleTimeString('ar-SA',{hour12:false});},1000);
    renderOrders(ordersData);
    pushToast("مرحباً بك.. تم تحميل النظام بالكامل","success");
}

function navigate(pageId,element){
    document.querySelectorAll('.page-section').forEach(section=>section.classList.remove('active'));
    const target=document.getElementById('page-'+pageId);
    if(target) target.classList.add('active');
    document.querySelectorAll('.nav-item').forEach(item=>item.classList.remove('active'));
    element.classList.add('active');
    pushToast(`تم الانتقال إلى: ${element.querySelector('.nav-text').innerText}`);
}

function renderOrders(data){
    const tbody=document.getElementById('ordersBody'); if(!tbody) return; tbody.innerHTML='';
    data.forEach(order=>{
        const statusText=order.status==='success'?'مكتمل':(order.status==='warning'?'معلق':'ملغي');
        const statusClass=order.status==='success'?'bg-success':(order.status==='warning'?'bg-warning':'bg-error');
        const tr=document.createElement('tr');
        tr.innerHTML=`
        <td>${order.id}</td>
        <td>${order.name}</td>
        <td>${order.service}</td>
        <td>${order.price} ر.س</td>
        <td><span class="status-badge ${statusClass}">${statusText}</span></td>
        <td><button class="btn-royal" onclick="pushToast('تم تحديث الطلب: ${order.id}')">تحديث</button></td>
        `;
        tbody.appendChild(tr);
    });
}

function toggleSidebar(){
    document.getElementById('sidebar').classList.toggle('collapsed');
}

function pushToast(msg,type='info'){
    const box=document.getElementById('toastBox'); if(!box) return;
    const div=document.createElement('div'); div.classList.add('toast-msg');
    div.innerHTML=`<i class="fas fa-bell"></i> ${msg}`;
    box.appendChild(div);
    setTimeout(()=>{div.remove();},4000);
}

function refreshTable(){ renderOrders(ordersData); pushToast('تم تحديث جدول الطلبات'); }

function masterSearch(){
    const term=document.getElementById('globalSearch').value.trim().toLowerCase();
    const filtered=ordersData.filter(o=>o.name.toLowerCase().includes(term) || o.id.toLowerCase().includes(term) || o.service.toLowerCase().includes(term));
    renderOrders(filtered);
}

function logout(){ pushToast('تم تسجيل الخروج', 'error'); }

window.onload=initSystem;
</script>

</body>
</html>
